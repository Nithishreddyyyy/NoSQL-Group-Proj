<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Faculty Management</title>
  <link rel="stylesheet" href="../static/css/style.css">

  <style>
    .box h2 {
      margin-top: 0;
      color: #444;
      border-bottom: 1px solid #ddd;
      padding-bottom: 10px;
      margin-bottom: 20px;
    }

    form {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px 20px;
    }

    form label {
      display: block;
      margin-bottom: 4px;
      color: #555;
      font-weight: bold;
    }

    form input {
      width: 100%;
      padding: 8px 10px;
      border: 1px solid #bbb;
      border-radius: 5px;
    }

    
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }

    table th, table td {
      padding: 10px;
      border-bottom: 1px solid #ddd;
      text-align: left;
    }

    table th {
      background: #f0f0f0;
    }

    input {
    width: 220px;      /* full width */
    padding: 10px;
    height: 40px;     /* increases textbox height */
    border: 10px solid #ccc;
    border-radius: 10px;
    }

    form {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px 25px;  /* spacing between rows and columns */
    }

    form div {
    margin-bottom: 15px;  /* additional spacing between textboxes */
    }

    form input {
    width: 80%;
    padding: 10px;
    height: 38px;
    border: 1px solid #bbb;
    border-radius: 6px;
    }

</style>

</head>

<body>

 <!-- NAVBAR -->
<nav class="navbar">
  <div class="nav-container">
    
    <!-- Clickable title linking to home "/" -->
    <a href="/" class="nav-title">Faculty Appraisal System</a>

    <ul class="nav-links">
      <li><a href="/faculty">Faculty Management</a></li>
      <li><a href="/criteria">Criteria Management</a></li>
      <li><a href="/scores">Score Calculation</a></li>
    </ul>
  </div>
</nav>


<div class="container">

<h1 class="fm">Faculty Management</h1>

<!-- Add Faculty Box -->
<div class="box">
  <h2>Add Faculty</h2>

  <form action="/faculty/create" method="post">
    <div>
      <label>Name</label>
      <input name="name" placeholder="Full Name" required>
    </div>

    <div>
      <label>Department</label>
      <input name="department" placeholder="Department" required>
    </div>

    <div>
      <label>Designation</label>
      <input name="designation" placeholder="Designation" required>
    </div>

    <div>
      <label>Contact</label>
      <input name="contact" placeholder="Contact details">
    </div>

    <div>
      <label>Qualifications</label>
      <input name="qualifications" placeholder="Qualifications">
    </div>

    <div>
      <label>Experience (years)</label>
      <input name="experience" type="number" placeholder="Experience">
    </div>

    <div>
      <label>Date of Joining</label>
      <input name="doj" type="date" required>
    </div>

    <button type="submit">Save Faculty</button>
  </form>
</div>

<!-- Faculty Table Box -->
<div class="box">
  <h2>All Faculty</h2>

  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Department</th>
        <th>Designation</th>
        <th>DOJ</th>
        <th>Action</th>
      </tr>
    </thead>

    <tbody>
      {% for f in faculty %}
      <tr>
        <td>{{ f.name }}</td>
        <td>{{ f.department }}</td>
        <td>{{ f.designation }}</td>
        <td>{{ f.doj }}</td>
        <td>
          <a href="/faculty/delete/{{ f.id }}" class="btn-secondary">Delete</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

</div>
  <script>
  // Restrict contact to 10 digits only
  const contactInput = document.querySelector('input[name="contact"]');
  contactInput.addEventListener('input', function () {
      this.value = this.value.replace(/\D/g, '');  // remove non-digits
      if (this.value.length > 10) {
          this.value = this.value.slice(0, 10);   // limit to 10 digits
      }
  });

  // Prevent negative experience values
  const expInput = document.querySelector('input[name="experience"]');
  expInput.addEventListener('input', function () {
      if (this.value < 0) {
          this.value = 0;  // force non-negative
      }
  });
</script>
</body>
</html>